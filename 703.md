Sneaky Eggplant Fly

High

# Insecure randomness in `AutomationMaster.sol::generateOrderId()` could lead to user funds locked in the contract

### Summary

Using `block.timestamp` is not souce of randomness. The `OrderId` generated by the combination of sender address and block.timestamp will remain unchange on the same block. If a user try to create two or more orders in the same block it could lead tokens lost because the nexted ordres will overwrite the previous created order. User will remain unable to cancel orders or get his orders filled.

### Root Cause

- In `AutomationMaster.sol:90-95`
https://github.com/sherlock-audit/2024-11-oku/blob/main/oku-custom-order-types/contracts/automatedTrigger/AutomationMaster.sol#L90-L95
`block.timestamp` is used to generate random orderId. This random Id remain unchange for the same user in the same block.

### Internal pre-conditions

_No response_

### External pre-conditions

_No response_

### Attack Path

_No response_

### Impact

All the tokens transfered to the contract while creating the orders will be locked on the contract with no way to get refund.

### PoC

_No response_

### Mitigation

Limit order creation to one per block per user address or implement a better random orderId generator.